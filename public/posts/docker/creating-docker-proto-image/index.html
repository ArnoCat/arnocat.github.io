<!DOCTYPE html>
<html lang="zh"
  x-data
  :class="$store.darkMode.class()"
  :data-theme="$store.darkMode.theme()">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>docker-proto | Arno</title>

    
<link href="/img/favicon.ico" rel="shortcut icon" type="image/x-icon" />




<meta name="author" content="arno" />
<meta name="description" content="ç”¨go Makefile make -&amp;gt; docker image ç”Ÿæˆproto ï¼ˆå®¹å™¨åŒ–ç”¨æ³•ï¼‰ ä¸ºä»€ä¹ˆä½¿ç”¨Makefile åœ¨å­¦ä¹ dockerå‘½ä»¤çš„æ—¶å€™ï¼Œå‘ç°æœ‰äººä½¿ç”¨Makefileæ¥å­˜å‚¨æ“ä½œï¼Œ" />


<link rel="canonical" href="http://localhost:1313/posts/docker/creating-docker-proto-image/" />


<meta property="og:url" content="http://localhost:1313/posts/docker/creating-docker-proto-image/">
  <meta property="og:site_name" content="Arno">
  <meta property="og:title" content="docker-proto">
  <meta property="og:description" content="ç”¨go Makefile make -&gt; docker image ç”Ÿæˆproto ï¼ˆå®¹å™¨åŒ–ç”¨æ³•ï¼‰ ä¸ºä»€ä¹ˆä½¿ç”¨Makefile åœ¨å­¦ä¹ dockerå‘½ä»¤çš„æ—¶å€™ï¼Œå‘ç°æœ‰äººä½¿ç”¨Makefileæ¥å­˜å‚¨æ“ä½œï¼Œ">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-07-08T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-07-08T00:00:00+00:00">




  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="docker-proto">
  <meta name="twitter:description" content="ç”¨go Makefile make -&gt; docker image ç”Ÿæˆproto ï¼ˆå®¹å™¨åŒ–ç”¨æ³•ï¼‰ ä¸ºä»€ä¹ˆä½¿ç”¨Makefile åœ¨å­¦ä¹ dockerå‘½ä»¤çš„æ—¶å€™ï¼Œå‘ç°æœ‰äººä½¿ç”¨Makefileæ¥å­˜å‚¨æ“ä½œï¼Œ">



<meta name="generator" content="Hugo 0.128.2">

<link rel="stylesheet" href="/css/output.css" />

<style>

#dream-global-bg {
  background-image: url(/background.jpg);
}



</style>


    


<link rel="stylesheet" data-custom-syntax-highlighting />
<style>
  .chroma {
    padding: 1em;
    background-color: var(--dream-pre-bg, #f5f5f5);
    border-radius: .5em;
    overflow: auto;
  }

  html.dark .chroma {
    background-color: var(--dream-pre-bg-dark, #262626);
  }
</style>






    

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  </head>

  <body x-data="{
    flip: false,
  }">
    
    <div id="dream-global-bg"></div>

    
<nav class="mt-4 lg:mt-8 pt-4 pb-4">

  <div class="container flex justify-between px-4">
    <section class="flex items-center gap-4">
      <div class="avatar cursor-pointer hover:online" @click="flip = !flip" title="ç¿»è½¬ï¼">
        <div class="h-10 rounded-full">
          <img src="/img/avatar.png" alt="arno cat home" />
        </div>
      </div>

      
      <div>
        
        <a href="http://localhost:1313/" class="text-lg font-semibold cursor-pointer">
          arno cat home
        </a>
        
        
        <div class="text-base-content/60 text-sm">ä¸å…¶æ„Ÿæ…¨è·¯éš¾è¡Œï¼Œä¸å¦‚é©¬ä¸Šå‡ºå‘</div>
        
      </div>
      
    </section>

    <div class="dropdown dropdown-end sm:hidden">
      <div tabindex="0" role="button" class="btn btn-ghost btn-square">
        <ion-icon name="menu-outline" size="large"></ion-icon>
      </div>
      <ul tabindex="0" class="dropdown-content menu w-36 bg-base-100 rounded-box z-[1] shadow">
        


<li>
  <div role="link" tabindex="0" class="inline-flex items-center p-2 cursor-pointer" @click="flip = !flip" title="å…³äº">
    <ion-icon name="information-circle"></ion-icon>å…³äº</div>
</li>




<li>
  <a class="group inline-flex items-center p-2 cursor-pointer" href="/search" title="æœç´¢">
    <ion-icon name="search"></ion-icon>
    æœç´¢
  </a>
</li>



<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/posts" title="å½’æ¡£">
    <ion-icon name="archive"></ion-icon>
    å½’æ¡£
  </a>
</li>



<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/categories" title="æ‰€æœ‰åˆ†ç±»">
    <ion-icon name="grid"></ion-icon>
    æ‰€æœ‰åˆ†ç±»
  </a>
</li>



<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/tags" title="æ‰€æœ‰æ ‡ç­¾">
    <ion-icon name="pricetags"></ion-icon>
    æ‰€æœ‰æ ‡ç­¾
  </a>
</li>



<li>
  <a class="inline-flex items-center p-2 cursor-pointer" href="/index.xml" title="RSS">
    <ion-icon name="logo-rss"></ion-icon>
    RSS
  </a>
</li>


      </ul>
    </div>
    <section class="hidden sm:flex sm:items-center sm:gap-2 md:gap-4">
      
      
      
      <div role="link" tabindex="0" class="text-sm font-semibold cursor-pointer hover:underline" @click="flip = !flip" title="å…³äº">å…³äº</div>
      
      

      
      <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/search" title="æœç´¢">
        <ion-icon class="group-hover:text-primary-content" name="search"></ion-icon>
      </a>
      

      
      <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/posts" title="å½’æ¡£">
        <ion-icon class="group-hover:text-primary-content" name="archive"></ion-icon>
      </a>
      

      
      <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/categories" title="æ‰€æœ‰åˆ†ç±»">
        <ion-icon class="group-hover:text-primary-content" name="grid"></ion-icon>
      </a>
      

      
      <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/tags" title="æ‰€æœ‰æ ‡ç­¾">
        <ion-icon class="group-hover:text-primary-content" name="pricetags"></ion-icon>
      </a>
      

      
      <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="/index.xml" title="RSS">
        <ion-icon class="group-hover:text-primary-content" name="logo-rss"></ion-icon>
      </a>
      
    </section>
  </div>
</nav>


    <div class="flip-container" :class="{ 'flip-it': flip }">
      <div class="flipper">
        <section class="front">
          <div class="container">
            
<div class="mt-4 px-4">
  <section class="mx-auto prose dark:prose-invert" id="dream-single-page">
    <header>
      <h1>docker-proto</h1>
      <p class="text-sm">
        
          <span data-format="luxon">2024-07-08T00:00:00Z</span>
        

        | <span>8 åˆ†é’Ÿé˜…è¯»</span>

        
        | <span>æ›´æ–°äº
          
            <span data-format="luxon">2024-07-08T00:00:00Z</span>
          </span>
        
      </p>
      <div class="flex justify-between">
        <div class="flex items-center">
  
  <span>@</span>
  

  <span>
  
    
      arno
    
  
  </span>
</div>


        <span class="flex items-center gap-2">
  <a class="group inline-flex items-center p-2 text-sm rounded-full cursor-pointer hover:bg-primary" href="https://twitter.com/intent/tweet?text=docker-proto&url=http%3a%2f%2flocalhost%3a1313%2fposts%2fdocker%2fcreating-docker-proto-image%2f" title="Share on X">
    <ion-icon class="group-hover:text-primary-content" name="logo-x"></ion-icon>
  </a>
  <a class="group inline-flex items-center p-2 rounded-full cursor-pointer hover:bg-primary" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2fdocker%2fcreating-docker-proto-image%2f" title="Share on Facebook">
    <ion-icon class="group-hover:text-primary-content" name="logo-facebook"></ion-icon>
  </a>
</span>

      </div>
    </header>

    <main>
      

      <h2 id="ç”¨go-makefile-make---docker-image-ç”Ÿæˆproto-å®¹å™¨åŒ–ç”¨æ³•">ç”¨go Makefile make -&gt; docker image ç”Ÿæˆproto ï¼ˆå®¹å™¨åŒ–ç”¨æ³•ï¼‰</h2>
<h3 id="ä¸ºä»€ä¹ˆä½¿ç”¨makefile">ä¸ºä»€ä¹ˆä½¿ç”¨Makefile</h3>
<p>åœ¨å­¦ä¹ dockerå‘½ä»¤çš„æ—¶å€™ï¼Œå‘ç°æœ‰äººä½¿ç”¨Makefileæ¥å­˜å‚¨æ“ä½œï¼Œå¼çˆ†äº†ã€‚</p>
<p>å› ä¸ºæœ€å¼€å§‹ä¸€ä¸ªå­—ä¸€ä¸ªå­—æ•²ï¼Œå› ä¸ºè¿™æ ·ä¼šè®°ä½å‘½ä»¤ã€‚ä½†æ˜¯ç†Ÿæ‚‰äº†ä¹‹åï¼Œæ¯æ¬¡æƒ³è¦åšä¸€äº›æ“ä½œçš„æ—¶å€™å°±ä¸å¾—ä¸
é‡å¤çš„è¾“å…¥ä»¥å‰çš„å‘½ä»¤ã€‚å½“åˆ‡æ¢ä¸€ä¸ªé¡¹ç›®ä¹‹åï¼Œåˆé‡å¤è¾“å…¥ç±»ä¼¼ä½†åˆä¸å®Œå…¨ç›¸åŒçš„å‘½ä»¤ï¼Œä»…ä»…é€šè¿‡historyå‘½ä»¤åŠ é€Ÿä¹Ÿæ¯”è¾ƒæ…¢ã€‚</p>
<h3 id="å…ˆçœ‹å®æˆ˜makefileç¤ºä¾‹-ç¼–è¯‘å¤šä¸ªè¯­ç§çš„protoæ–‡ä»¶">å…ˆçœ‹å®æˆ˜Makefileç¤ºä¾‹ ç¼–è¯‘å¤šä¸ªè¯­ç§çš„protoæ–‡ä»¶</h3>
<pre tabindex="0"><code>.PHONY: compile go java

BUILDER_CONTAINER=namely/protoc-all:1.51_2

compile: java go

go:
	docker run --rm -t -w /proto \
		-v ${PWD}:/proto ${BUILDER_CONTAINER} \
		-l go -o . -d proto

java:
	docker run --rm -t -w /proto \
		-v ${PWD}:/proto ${BUILDER_CONTAINER} \
		-l java -o java/ -d proto
</code></pre><h2 id="makefileæ˜¯ä»€ä¹ˆ">Makefileæ˜¯ä»€ä¹ˆ</h2>
<p>Makefileæ˜¯makeå‘½ä»¤çš„è§„åˆ™é…ç½®æ–‡ä»¶ã€‚makeå‘½ä»¤æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>å…ˆæ¥çœ‹çœ‹makeåœ¨å“ªé‡Œ</p>
<pre tabindex="0"><code>$ whereis make
make: /usr/bin/make /Library/Developer/CommandLineTools/usr/share/man/man1/make.1
</code></pre><p>å¯ä»¥çœ‹åˆ°makeæ˜¯binä¸‹çš„ä»¥å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p>
<h4 id="make-ç”¨æˆ·æ‰‹å†Œ">make ç”¨æˆ·æ‰‹å†Œ</h4>
<pre tabindex="0"><code>MAKE(1)                                                          User Commands                                                         MAKE(1)

NAME
       make - GNU make utility to maintain groups of programs

SYNOPSIS
       make [OPTION]... [TARGET]...

DESCRIPTION
       The  make  utility will determine automatically which pieces of a large program need to be recompiled, and issue the commands to recomâ€
       pile them.  The manual describes the GNU implementation of make, which was written by Richard Stallman and Roland McGrath, and is  curâ€
       rently  maintained  by Paul Smith.  Our examples show C programs, since they are very common, but you can use make with any programming
       language whose compiler can be run with a shell command.  In fact, make is not limited to programs.  You can use  it  to  describe  any
       task where some files must be updated automatically from others whenever the others change.

       To prepare to use make, you must write a file called the makefile that describes the relationships among files in your program, and the
       states the commands for updating each file.  In a program, typically the executable file is updated from object  files,  which  are  in
       turn made by compiling source files.

       Once a suitable makefile exists, each time you change some source files, this simple shell command:

              make

       suffices  to  perform  all necessary recompilations.  The make program uses the makefile description and the last-modification times of
       the files to decide which of the files need to be updated.  For each of those files, it issues the commands recorded in the makefile.

       make executes commands in the makefile to update one or more target names, where name is typically a  program.   If  no  -f  option  is
       present, make will look for the makefiles GNUmakefile, makefile, and Makefile, in that order.

       Normally  you  should  call  your makefile either makefile or Makefile.  (We recommend Makefile because it appears prominently near the
       beginning of a directory listing, right near other important files such as README.)  The first name checked, GNUmakefile, is not recomâ€
       mended for most makefiles.  You should use this name if you have a makefile that is specific to GNU make, and will not be understood by
       other versions of make.  If makefile is &#39;-&#39;, the standard input is read.

       make updates a target if it depends on prerequisite files that have been modified since the target was last modified, or if the  target
       does not exist.
</code></pre><p>å¤§è‡´æ˜¯è¯´makeæ˜¯GNUä¸­ç»´æŠ¤å’Œç»„ç»‡ç¨‹åºçš„ã€‚æ¯”å¦‚æˆ‘ä»¬çš„Cè¯­è¨€ç¼–è¯‘ï¼Œ å†æ¯”å¦‚æºç å®‰è£…æŸäº›è½¯ä»¶ï¼Œæ¯”å¦‚nginxçš„æ—¶å€™ã€‚é‚£ä¹ˆGNUæ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ</p>
<p>GNU(GNU&rsquo;s Not Unix)æ˜¯ä¸€ä¸ªç±»Unixç³»ç»Ÿï¼Œ ç›®æ ‡æ˜¯åˆ›å»ºä¸€å¥—å®Œå…¨è‡ªç”±çš„æ“ä½œç³»ç»Ÿã€‚åœ¨Linuxå‡ºç°ä¹‹å‰ï¼ŒGNUå·²ç»å®Œæˆäº†é™¤äº†å†…æ ¸ä¹‹å¤–å¤§éƒ¨åˆ†çš„è½¯ä»¶ã€‚Linuxå‡ºç°ä¹‹åï¼Œä¸GNUç»“åˆå˜æˆGNU/Linuxã€‚
ä¸¥æ ¼çš„è¯´ï¼ŒLinuxåªä»£è¡¨Linuxå†…æ ¸ï¼Œå…¶ä»–Linuxè½¯ä»¶ç§°ä¸ºLinuxå‘è¡Œç‰ˆã€‚ä½†ç”±äºå•†ä¸šå‘è¡Œå•†åšæŒç§°å‘¼Linux, è™½ç„¶å·²ç»æ›´åä¸ºGNU/Linux, ä½†å¤§å®¶ä¾ç„¶å«Linux.</p>
<pre tabindex="0"><code>## æ¯”å¦‚æˆ‘çš„æœ¬æœºUbuntu
~ â¯ uname
Linux
~ â¯ uname -a
Linux ryan-computer 4.18.0-20-generic #21~18.04.1-Ubuntu SMP Wed May 8 08:43:37 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux

## å¤§éƒ¨åˆ†åŸºäºDebiançš„dockeré•œåƒ
airflow@88e36c088b81:~$ cat /etc/issue
Debian GNU/Linux 9 \n \l

## RedHat
[root@data-docker001 docker-airflow]# cat /etc/redhat-release
CentOS Linux release 7.4.1708 (Core)
[root@data-docker001 docker-airflow]# uname -a
Linux data-docker001 3.10.0-693.2.2.el7.x86_64 #1 SMP Tue Sep 12 22:26:13 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux
</code></pre><h4 id="make-åŸºæœ¬ç”¨æ³•">make åŸºæœ¬ç”¨æ³•</h4>
<pre tabindex="0"><code>make target
</code></pre><h3 id="makefileåŸºæœ¬è¯­æ³•">MakefileåŸºæœ¬è¯­æ³•</h3>
<p>åœ¨å½“å‰ç›®å½•åˆ›å»ºä¸€ä¸ªå«åšMakefileçš„æ–‡ä»¶ã€‚</p>
<h4 id="å£°æ˜å˜é‡">å£°æ˜å˜é‡</h4>
<p>ç®€å•çš„å˜é‡èµ‹å€¼ï¼Œæ¯”å¦‚å£°æ˜name</p>
<pre tabindex="0"><code>$ name=arno
</code></pre><h4 id="å£°æ˜è§„åˆ™rule">å£°æ˜è§„åˆ™Rule</h4>
<p>Makefileæ–‡ä»¶ç”±ä¸€ç³»åˆ—è§„åˆ™ï¼ˆrulesï¼‰æ„æˆã€‚æ¯æ¡è§„åˆ™çš„å½¢å¼å¦‚ä¸‹ã€‚</p>
<pre tabindex="0"><code>&lt;target&gt; : &lt;prerequisites&gt;
[tab]  &lt;commands&gt;
</code></pre><p>target ç›®æ ‡
prerequisites å‰ç½®æ¡ä»¶
tab commandå¿…é¡»ç”±tabéš”å¼€
commands åªèƒ½æœ‰ä¸€è¡Œçš„shell</p>
<h4 id="é˜²æ­¢targetå’Œæ–‡ä»¶åä¸€æ ·">é˜²æ­¢targetå’Œæ–‡ä»¶åä¸€æ ·</h4>
<p>å½“æˆ‘ä»¬è®¾ç½®çš„targetå’Œå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶åä¸€æ ·çš„è¯ï¼Œtargetä¼šè¢«å¿½ç•¥ï¼Œæ‰€ä»¥ï¼Œé€šå¸¸ï¼Œæˆ‘ä»¬æŠŠtargetéƒ½ç”¨åšphony targetã€‚</p>
<pre tabindex="0"><code>.PHONY: build start push
</code></pre><p>è¡¨ç¤ºï¼Œ build start push è¿™3ä¸ªtargetï¼Œä¸æ£€æŸ¥å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œç›´æ¥æ‰§è¡Œå‘½ä»¤ã€‚</p>
<h4 id="dockeræ„å»ºç”¨çš„æŒ‡ä»¤">Dockeræ„å»ºç”¨çš„æŒ‡ä»¤</h4>
<pre tabindex="0"><code>NAME = ryan/airflow
VERSION = 1.10.4

.PHONY: build start push

build:  build-version

build-version:
        docker build -t ${NAME}:${VERSION}  .

tag-latest:
        docker tag ${NAME}:${VERSION} ${NAME}:latest

start:
        docker run -it --rm ${NAME}:${VERSION} /bin/bash

push:   build-version tag-latest
        docker push ${NAME}:${VERSION}; docker push ${NAME}:latest
</code></pre><p>make build &amp;&amp; make start &amp;&amp; make push</p>
<h3 id="makefileçš„æ¯ä¸ªå‘½ä»¤çš„ä½œç”¨">Makefileçš„æ¯ä¸ªå‘½ä»¤çš„ä½œç”¨</h3>
<h3 id="docker-run-images-é‡Œé¢é•œåƒæ¯ä¸ªå‘½ä»¤çš„ä½œç”¨">docker run images é‡Œé¢é•œåƒæ¯ä¸ªå‘½ä»¤çš„ä½œç”¨</h3>
<pre tabindex="0"><code>gen-protoç”Ÿæˆgrpcå’Œprotobuf@å³

ç”¨æ³•ï¼šgen proto-f my-service.proto-l go

é€‰é¡¹ï¼š
-hã€ --helpæ˜¾ç¤ºå¸®åŠ©
-f FILEè¦ç”Ÿæˆçš„åŸå‹æºæ–‡ä»¶
-d DIRæ‰«æç»™å®šç›®å½•ä¸­çš„æ‰€æœ‰åŸå§‹æ–‡ä»¶
-l è¦ç”Ÿæˆçš„è¯­è¨€ï¼ˆgo ruby csharp java python objc gogo php node typescript web cpp descriptor_set scalaï¼‰
-o DIRECTORYç”Ÿæˆæ–‡ä»¶çš„è¾“å‡ºç›®å½•ã€‚å°†è‡ªåŠ¨åˆ›å»ºã€‚
-i é¢å¤–åŒ…æ‹¬
--lint CHECKSå¯ç”¨linting protoc lintï¼ˆCHECKSæ˜¯å¯é€‰çš„-è¯·å‚é˜…https://github.com/ckaznocha/protoc-gen-lint#optional-æ£€æŸ¥ï¼‰
--with gatewayç”Ÿæˆgrpcç½‘å…³æ–‡ä»¶ï¼ˆå®éªŒï¼‰ã€‚
--ä½¿ç”¨æ–‡æ¡£FORMATç”Ÿæˆæ–‡æ¡£ï¼ˆFORMATæ˜¯å¯é€‰çš„-è¯·å‚é˜…https://github.com/pseudomuto/protoc-gen-doc#invoking-æ’ä»¶ï¼‰
--ä½¿ç”¨pyiç”Ÿæˆmypyå­˜æ ¹æ–‡ä»¶ï¼ˆ.ppyæ–‡ä»¶ï¼‰-è¯·å‚é˜…https://github.com/nipunn1313/mypy-protobuf
--ä½¿ç”¨rbiç”ŸæˆSorbetç±»å‹å£°æ˜æ–‡ä»¶ï¼ˆ.rbiæ–‡ä»¶ï¼‰-è¯·å‚é˜…https://github.com/coinbase/protoc-gen-rbi
--ä½¿ç”¨typescriptç”Ÿæˆtypescriptå£°æ˜æ–‡ä»¶ï¼ˆ.d.tsæ–‡ä»¶ï¼‰-è¯·å‚é˜…https://github.com/improbable-eng/ts-protoc-gen#readme
--ä½¿ç”¨éªŒè¯å™¨ä¸ºï¼ˆgogogcppjavapythonï¼‰ç”ŸæˆéªŒè¯-è¯·å‚é˜…https://github.com/envoyproxy/protoc-gen-validate
--validator source relativeä½¿protoc gençš„è¾“å‡ºç›®å½•éªŒè¯â€œsource relativeâ€-è¯·å‚é˜…https://github.com/envoyproxy/protoc-gen-validate#go
--go source relative Make goå¯¼å…¥è·¯å¾„â€œsource_relativeâ€-è¯·å‚é˜…https://github.com/golang/protobuf#parameters
--goæ¨¡å—å‰ç¼€æŒ‡å®šè¦ä»å¯¼å…¥è·¯å¾„ä¸­åˆ é™¤çš„æ¨¡å—å‰ç¼€-è¯·å‚é˜…https://developers.google.com/protocol-buffers/docs/reference/go-generated#invocation
--goåŒ…æ˜ å°„æ˜ å°„protoå¯¼å…¥åˆ°goå¯¼å…¥è·¯å¾„
--go plugin microç”¨go microæ›¿æ¢go gRPCæ’ä»¶
--goåŸå‹éªŒè¯å™¨ç”ŸæˆgoåŸå‹éªŒè¯-è¯·å‚é˜…https://github.com/mwitkow/go-proto-validators
--go grpcéœ€è¦æœªå®ç°çš„æœåŠ¡å™¨ä¸ºæœªæ¥çš„å…¼å®¹æ€§ç”Ÿæˆå…·æœ‰æœªå®ç°æœåŠ¡å™¨çš„go grpcæœåŠ¡-https://github.com/grpc/grpc-go/tree/master/cmd/protoc-gen-go-grpc#future-æ ¡å¯¹æœåŠ¡
--ä¸åŒ…æ‹¬è°·æ­Œä¸åŒ…æ‹¬è°·æ­ŒåŸå‹
--descr include importså½“ä½¿ç”¨--descriptor_set_outæ—¶ï¼Œè¿˜åŒ…æ‹¬é›†åˆä¸­è¾“å…¥æ–‡ä»¶çš„æ‰€æœ‰ä¾èµ–é¡¹ï¼Œä»¥ä¾¿é›†åˆæ˜¯è‡ªåŒ…å«çš„
--descr include source infoä½¿ç”¨--descriptor_set_outæ—¶ï¼Œä¸è¦ä»FileDescriptorProtoä¸­å‰¥ç¦»SourceCodeInfoã€‚è¿™å¯¼è‡´
æ›´å¤§çš„æè¿°ç¬¦ï¼ŒåŒ…æ‹¬å…³äºæºæ–‡ä»¶ä¸­æ¯ä¸ªdeclçš„åŸå§‹ä½ç½®çš„ä¿¡æ¯
ä½œä¸ºå‘¨å›´çš„è¯„è®ºã€‚
--descr filenameä¸-l descriptor_setä¸€èµ·ä½¿ç”¨æ—¶æè¿°ç¬¦protoçš„æ–‡ä»¶åã€‚é»˜è®¤ä¸ºdescriptor_set.pb
--csharp_optä¼ é€’ç»™protocä»¥è‡ªå®šä¹‰csharpä»£ç ç”Ÿæˆçš„é€‰é¡¹ã€‚
--scala_optä¼ é€’ç»™protocä»¥è‡ªå®šä¹‰scalaä»£ç ç”Ÿæˆçš„é€‰é¡¹ã€‚
--with swagger jsonåç§°ä½¿ç”¨with--with gatewayæ ‡å¿—ã€‚ç”Ÿæˆçš„swaggeræ–‡ä»¶å°†ä½¿ç”¨JSONåç§°è€Œä¸æ˜¯protobufåç§°ã€‚
ï¼ˆå·²å¼ƒç”¨ã€‚è¯·ä½¿ç”¨--with openapi jsonåç§°ï¼‰
--with openapi json nameä½¿ç”¨with--with gatewayæ ‡å¿—ã€‚ç”Ÿæˆçš„OpenAPIæ–‡ä»¶å°†ä½¿ç”¨JSONåç§°ï¼Œè€Œä¸æ˜¯protobufåç§°ã€‚
--generate unbound methodsä¸--with gatewayæ ‡å¿—ä¸€èµ·ä½¿ç”¨ã€‚å³ä½¿å¯¹äºæ²¡æœ‰ä»»ä½•HttpRuleæ³¨é‡Šçš„æ–¹æ³•ï¼Œä¹Ÿè¦ç”ŸæˆHTTPæ˜ å°„ã€‚
--js-outæ­¤é€‰é¡¹è¦†ç›–grpcèŠ‚ç‚¹å’Œgrpc webä»£ç ç”Ÿæˆä¸­çš„â€œjs_out=â€å‚æ•°ã€‚é»˜è®¤ä¸º&#39;import_style=commonjs&#39;ã€‚
--grpc outæ­¤é€‰é¡¹å…è®¸ä½¿ç”¨grpcèŠ‚ç‚¹å’Œgrpc webä»£ç ç”Ÿæˆè¦†ç›–â€œgrpc_out=â€å‚æ•°çš„å·¦åŠéƒ¨åˆ†ï¼ˆå†’å·ä¹‹å‰ï¼‰ã€‚é€‰é¡¹ä¸ºï¼šgenerate_package_definitionã€grpc_jsæˆ–grpcï¼ˆè‡ª2021å¹´4æœˆèµ·å–æ¶ˆè®¤è¯ï¼‰ã€‚é»˜è®¤ä¸ºgrpc_jsã€‚
--grpc web outæ­¤é€‰é¡¹è¦†ç›–grpc webä»£ç ç”Ÿæˆä¸­çš„â€œgrpc-web_out=â€å‚æ•°ã€‚é»˜è®¤ä¸ºâ€œimport_style=typescriptâ€ã€‚
--ts_optä¼ é€’ç»™protocä»¥è‡ªå®šä¹‰typescriptä»£ç ç”Ÿæˆçš„é€‰é¡¹ã€‚çœ‹è§https://github.com/stephenh/ts-proto#supported-é€‰é¡¹--ts_opt useOptionals=æ¶ˆæ¯å°†è¯„ä¼°ä¸º--ts_proto_opt=useOptionals=messages
</code></pre><h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<p><a href="https://www.cnblogs.com/woshimrf/p/make-docker.html">https://www.cnblogs.com/woshimrf/p/make-docker.html</a></p>
<p><a href="https://www.ruanyifeng.com/blog/2015/02/make.html">https://www.ruanyifeng.com/blog/2015/02/make.html</a></p>
<p><a href="https://blog.csdn.net/icycolawater/article/details/77921688">https://blog.csdn.net/icycolawater/article/details/77921688</a></p>

    </main>
  </section>

  

  
  <div class="divider max-w-[65ch] mx-auto"></div>
  

  <section class="max-w-[65ch] mx-auto space-y-4">
    

    
    <template x-if="['localhost', '127.0.0.1'].indexOf(window.location.hostname) == -1">
      <article>
        <script
          src="https://utteranc.es/client.js"
          repo="arnocat/arnocat.github.io"
          issue-term="og:title"
          theme="github-light"
          crossorigin="anonymous"
          async>
        </script>
      </article>
    </template>
    

    
  </section>
</div>


            <footer class="flex justify-between items-center gap-2 px-4 py-12">
              <div>
  
  <p>
    Â© 2016 - 2024 Arno
  </p>
  

  
  <p class="text-sm">
    ğŸŒ±
    <span class="text-base-content/60">
      Powered by <a class="hover:underline" href="https://gohugo.io/" target="_blank">Hugo</a> with theme
      <a class="hover:underline" href="https://github.com/g1eny0ung/hugo-theme-dream" target="_blank">Dream</a>.</span
    >
  </p>
  
</div>

              <div
  x-data="{ icons: [
    { name: 'moon', status: 'y' },
    { name: 'sunny', status: 'n' },
    { name: 'desktop', status: 'auto' }
  ] }"
  class="flex items-center h-[32px] px-2 gap-2 border border-base-300 rounded-full"
>
  <template x-for="icon in icons">
    <div
      role="button"
      tabindex="0"
      class="group inline-flex justify-center items-center p-1 rounded-full cursor-pointer hover:bg-primary"
      :class="$store.darkMode.icon() === icon.name && 'bg-primary'"
      @click="$store.darkMode.toggle(icon.status)"
    >
      <ion-icon
        :name="`${icon.name}-outline`"
        class="group-hover:text-primary-content"
        :class="$store.darkMode.icon() === icon.name && 'text-primary-content'"
      >
      </ion-icon>
    </div>
  </template>
</div>

            </footer>
          </div>
        </section>
        <section class="back">
          <div class="container">
            <div class="dream-grid">
  
  
  
  <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column">
    <article
      class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl dark:border dark:border-base-content/30"
    >
      <div class="card-body">
        <div class="card-title">About Me</div>

        <div class="prose dark:prose-invert">
          <p>Cut out summary from your post content here.</p>
<p>The remaining content of your post.</p>
        </div>
      </div>
    </article>
  </div>
  
  <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column">
    <article
      class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl dark:border dark:border-base-content/30"
    >
      <div class="card-body">
        <div class="card-title">Copyright</div>

        <div class="prose dark:prose-invert">
          <p>Cut out summary from your post content here.</p>
<p>The remaining content of your post.</p>
        </div>
      </div>
    </article>
  </div>
  
  

  
  <div class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 p-4 dream-column">
    <article
      class="card card-compact bg-base-100 hover:bg-base-content/10 shadow-xl dark:border dark:border-base-content/30"
    >
      <div class="card-body">
        <div class="card-title">ç¤¾äº¤é“¾æ¥</div>

        <ul class="menu menu-horizontal flex-wrap w-full [&_ion-icon]:text-lg">
  
  <li>
    <a href="mailto:q243284589@gmail.com" title="Email">
      <ion-icon name="mail"></ion-icon>
    </a>
  </li>
  

  
  <li>
    <a href="https://github.com/g1eny0ung" target="_blank" title="GitHub">
      <ion-icon name="logo-github"></ion-icon>
    </a>
  </li>
  
  <li>
    <a href="https://x.com/g1eny0ung" target="_blank" title="X">
      <ion-icon name="logo-x"></ion-icon>
    </a>
  </li>
  
  <li>
    <a href="https://www.linkedin.com/in/g1eny0ung" target="_blank" title="Linkedin">
      <ion-icon name="logo-linkedin"></ion-icon>
    </a>
  </li>
  
  <li>
    <a href="https://stackoverflow.com/users/5676489/g1eny0ung" target="_blank" title="stack overflow">
      <ion-icon name="logo-stackoverflow"></ion-icon>
    </a>
  </li>
  
</ul>

      </div>
    </article>
  </div>
  

  
  
</div>

          </div>
        </section>
      </div>
    </div>

    <script>
  window.lightTheme = "emerald"
  window.darkTheme = "forest"

  window.hasTwitterEmbed =  null 
  if (window.hasTwitterEmbed) {
    
    window.twttr = (function (d, s, id) {
      var js,
        fjs = d.getElementsByTagName(s)[0],
        t = window.twttr || {}
      if (d.getElementById(id)) return t
      js = d.createElement(s)
      js.id = id
      js.src = 'https://platform.twitter.com/widgets.js'
      fjs.parentNode.insertBefore(js, fjs)

      t._e = []
      t.ready = function (f) {
        t._e.push(f)
      }

      return t
    })(document, 'script', 'twitter-wjs')
  }
</script>
<script src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
<script src="/js/grid.js"></script>
<script src="/js/main.js"></script>

    


<script
  src="https://cdn.jsdelivr.net/npm/luxon@1.26.0"
  integrity="sha256-4sbTzmCCW9LGrIh5OsN8V5Pfdad1F1MwhLAOyXKnsE0="
  crossorigin="anonymous"
></script>
<script>
  format()

  function format() {
    document.querySelectorAll('span[data-format="luxon"]').forEach(el => {
      const date = el.textContent

      el.textContent = luxon.DateTime.fromISO(date, { locale: "zh" }).toFormat("yyyyå¹´MMæœˆddæ—¥")
    })
  }
</script>



<script>
  window.customSyntaxHighlighting = {
    light: "/css/syntax-light.min.css",
    dark: "/css/syntax-dark.min.css"
  }

  document.addEventListener('alpine:initialized', () => {
    var isDark = Alpine.store('darkMode').isDark()
    var customSyntaxHighlightingUrl = isDark ? window.customSyntaxHighlighting.dark : window.customSyntaxHighlighting.light

    document
      .querySelector('link[data-custom-syntax-highlighting]')
      .setAttribute('href', customSyntaxHighlightingUrl)
  })
</script>




    

    

    <script type="module" src="https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.4.0/dist/ionicons/ionicons.js"></script>
  </body>
</html>
